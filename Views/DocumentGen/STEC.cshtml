@{
    ViewData["Title"] = "Document Generation Selection";
}
@{
    Layout = ViewBag.Layout ?? "_Layout_staff"; // Use the layout set in the controller, or default to "_Layout"
}

<link rel="stylesheet" href="~/css/DocumentGeneration/stec.css" asp-append-version="true" />


<div class="page-wrapper">
    <!-- Header div -->
    <div class="info-bar">
        <div id="file-path"><a id="info_link" href="/Mainmenu/Mainmenu">Home</a> &gt; Select Patient</div>
        <div id="date-time">
            <span id="date">Date: </span>
            <span id="time">Time: </span>
        </div>
    </div>
    <div class="detail-wrapper">
        <div class="patient-details" id="patientDetails">
            <div class="detail-group">
                <label for="namaPesakit">Nama Pesakit</label>
                <input type="text" id="namaPesakit" name="namaPesakit" class="form-control" onfocus="openPopup()" required />
            </div>
            <div class="address">
                <textarea id="address" name="address" rows="5" cols="50" placeholder="Address"></textarea>
            </div>
        </div>
        <div class="reference-details" id="patientDetails">
            <div class="detail-group">
                <label for="noKadPengenalan">No. Kad Pengenalan</label>
                <input type="text" id="noKadPengenalan" name="noKadPengenalan" class="form-control" required />
            </div>
            <div class="my-group">
                <div class="day">
                    <label for="day">Day</label>
                    <select id="day" name="day" class="form-control">
                        <option value="" disabled selected>Select day</option>
                    </select>
                </div>
                <div class="month">
                    <label for="month">Month</label>
                    <select id="month" name="month" class="form-control">
                        <option value="" disabled selected>Select Month</option>
                    </select>
                </div>
                <div class="year">
                    <label for="year">Year</label>
                    <select id="year" name="year" class="form-control">
                        <option value="" disabled selected>Select Year</option>
                    </select>
                </div>
            </div>
        </div>
    </div>
    <div class="button-wrapper">
        <button id="rmvBtn" class="rmvBtn">-</button>
        <button id="addBtn" class="addBtn">+</button>
    </div>
    <div class="table-wrapper">
        <input type="hidden" id="patientID" name="patientID">
        <table class="custom-table">
            <thead>
                <tr>
                    <th>Bil</th>
                    <th>Particulars</th>
                    <th>Amount ( RM )</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>1</td>
                    <td><input type="text" name="particular@(1)" /></td>
                    <td><input type="number" name="amount@(1)" placeholder="0.00" min="0"/></td>
                </tr>
                <tr class="total-row">
                    <td colspan="2">Total ( RM )</td>
                    <td id="totalAmount">0.00</td>
                </tr>
            </tbody>
        </table>
    </div>
    

    <div class="generate-excel-wrapper">
        <button id="generateExcelButton" class="generate-excel-btn">Generate Excel</button>
    </div>

    <div class="popup" id="select-patient-sponsor-popup" style="display: none;">
        <div class="popup-container">
            <div class="popup-header"><strong>Select Patient</strong></div>

            <div class="button-container">
                <div class="vertical-buttons">
                    <button type="button" class="confirm-selection" onclick="confirmSelection()"><strong>Search</strong></button>

                    <button type="button" class="cancel-selection" onclick="closePopup()"><strong>Close</strong></button>
                </div>
            </div>
        </div>
    </div>
</div>


<script src="~/js/DocumentGeneration/stec.js" asp-append-version="true"></script>